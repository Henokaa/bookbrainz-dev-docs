########
Achievement System
########

Introduction
============

The BookBrainz achievement system is a method of encouraging users to contribute to the database. The list of achievements will be available publicly but some ideas of the achievements that will be supplied are available [here](https://docs.google.com/document/d/1yuFMTVifYiyoiTS73TcaneNlQKLe6_gX0xtgksB4o4s/edit?usp=sharing)

How It Works
============

There are two basic types of achievement supplied by the system. Most of them will be awarded automatically by checking upon submission of a form by the user. Since achievements can only be awarded for certain types of interaction we can avoid checking all of them and only check relavant ones for each type of form. The other type are awarded manually by way of an admin console.

Achievements belong to "Tracks", that progressively get harder as levels are unlocked with new badges upon completion of a level. On completion of a track a title will be awarded which can be viewed on the profile page on on hover of a username elsewhere on the site.

Functions Supplied
==================

achievement.processRegister(recruiterId)

this will invoke checks for the recruiter achievement, we are given the recruiter id. The only achievement on this method is:

	* Recruiter: Have (1, 2, 5) users register using your registration link

achievement.processPageVisit(userId)

this will invoke checks for achievements earned on a page visit. Currently the only achievement based on this method is:

	* Explorer: View (10, 100. 1000) Entities

achievement.processEdit(userId, revisionId):

this will invoke checks for all achievements that could be triggered by creating an edit. Achievement tracks currently supplied by this are:

	* Revisionist: Perform (1, 50, 250) Revision(s)
	* Creator Creator: Create (1, 10, 100) Creator(s)
	* Limited Edition: Create (1, 10, 100) Edition(s)
	* Publisher: Create (1, 10, 100) Publications(s)
	* Publisher Creator: Create (1, 10, 100) Publisher(s)
	* Worker Bee: Create (1, 10, 100) Work(s)
	* Sprinter: Create 10 revisions in an hour
	* Fun Runner: Create a revision a day for a week
	* Marathoner: Create a revision a day for 30 days
	* Time Traveller: Create an Edition before its released


Tables
======

The tables supplied are achievement_type, achievement_unlock, title_type and title_unlock.

## achievement_type

The achievement type table will hold all of the available achievements. Each achievement will have a name such as "Revisionist I" along with a description of how to obtain it. A badge will be awarded for each achievment unlocked. all the achievements in this table once the module is completed.

.. figure:: /_static/achievement_type.1degree.png
   :align: center

   **The achievement_type table and its relationships.**



## achievement_unlock

This table keeps track of unlocked achievements for all editors. It links an editor to an achievement and keeps track of the time the achievement was unlocked. We will use the time unlocked in the profile page of users.

.. figure:: /_static/achievement_unlock.1degree.png
   :align: center

   **The achievement_unlock table and its relationships.**


## title_type

The title type table holds all available titles. The titles are unique and will be displayed on hovering over a name along with how it was obtained. All titles in this table will be displayed once the module is complete. 

.. figure:: /_static/title_type.1degree.png
   :align: center

   **The title_type table and its relationships.**


## title_unlock

This table keeps track of unlocked titles for all editors. It links and editor to a title and keeps track of the time the title was unlocked. We will use the time unlocked in the title selection menu.

.. figure:: /_static/title_unlock.1degree.png
   :align: center

   **The title_unlock table and its relationships.**

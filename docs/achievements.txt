########
Achievement System
########

Introduction
============

The BookBrainz achievement system is a method of encouraging users to contribute to the database. The list of achievements will be available publicly but some ideas of the achievements that will be supplied are available [here](https://docs.google.com/document/d/1yuFMTVifYiyoiTS73TcaneNlQKLe6_gX0xtgksB4o4s/edit?usp=sharing)

How It Works
============

There are two basic types of achievement supplied by the system. Most of them will be awarded automatically by checking upon submission of a form by the user. Since achievements can only be awarded for certain types of interaction we can avoid checking all of them and only check relavant ones for each type of form. The other type will be awarded manually by way of an admin console which will be available on completion of the project.

Functions Supplied
==================

achievement.processEdit(req): 

this will invoke checks for all achievements that could be triggered by creating an edit. Achievements currently supplied by this are:

	* Revisionist I - submit one revision.

Tables
======

The tables supplied are achievement_type, achievement_unlock, title_type and title_unlock.

## achievement_type

The achievement type table will hold all of the available achievements. Each achievement will have a name such as "Revisionist I" along with a description of how to obtain it. A badge will be awarded for each achievment unlocked. all the achievements in this table once the module is completed.

	* name: Achievement name of length at most 80 characters.
	* description: TEXT field of how to obtain achievement.
	* badge_url: URL for associated badge, text field length 2083 per [stack overflow](http://stackoverflow.com/questions/417142/what-is-the-maximum-length-of-a-url-in-different-browsers).

## achievement_unlock

This table keeps track of unlocked achievements for all editors. It links an editor to an achievement and keeps track of the time the achievement was unlocked. We will use the time unlocked in the profile page of users.

	* editor_id: Foreign key for an editor
	* achievement_id: Foreign key for an achievement_type
	* unlocked_at: Timestamp in UTC

## title_type

The title type table holds all available titles. The titles are unique and will be displayed on hovering over a name along with how it was obtained. All titles in this table will be displayed once the module is complete. 

	* title: Title string of length at most 40 characters.
	* description: TEXT field of how to obtain title.

## title_unlock

This table keeps track of unlocked titles for all editors. It links and editor to a title and keeps track of the time the title was unlocked. We will use the time unlocked in the title selection menu.

	* editor_id: Foriegn key to editor
	* title_id: Foriegn key to title_type
	* unlocked_at: Timestamp in UTC
